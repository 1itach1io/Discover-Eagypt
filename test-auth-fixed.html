<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© - Discover Egypt</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 800px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 32px;
        }
        
        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 16px;
        }
        
        .status-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .status-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px;
            background: white;
            border-radius: 8px;
            margin-bottom: 10px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s;
        }
        
        .status-item.success {
            border-color: #4caf50;
            background: #f1f8f4;
        }
        
        .status-item.error {
            border-color: #f44336;
            background: #fff3f3;
        }
        
        .status-item.pending {
            border-color: #ff9800;
            background: #fff8f0;
        }
        
        .status-label {
            font-weight: 600;
            color: #333;
        }
        
        .status-icon {
            font-size: 24px;
        }
        
        .success .status-icon {
            color: #4caf50;
        }
        
        .error .status-icon {
            color: #f44336;
        }
        
        .pending .status-icon {
            color: #ff9800;
        }
        
        .test-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin-top: 20px;
            transition: transform 0.2s;
        }
        
        .test-button:hover {
            transform: translateY(-2px);
        }
        
        .test-button:active {
            transform: translateY(0);
        }
        
        .log-container {
            background: #1e1e1e;
            color: #00ff00;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
            display: none;
        }
        
        .log-container.show {
            display: block;
        }
        
        .log-line {
            margin-bottom: 5px;
        }
        
        .info-box {
            background: #e3f2fd;
            border-right: 4px solid #2196f3;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .info-box h3 {
            color: #1976d2;
            margin-bottom: 10px;
        }
        
        .info-box ul {
            margin-right: 20px;
            color: #555;
        }
        
        .info-box li {
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©</h1>
        <p class="subtitle">Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±ÙŠØ¹ Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ù…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­</p>
        
        <div class="status-card">
            <h3 style="margin-bottom: 15px; color: #333;">ğŸ“Š Ø­Ø§Ù„Ø© Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª:</h3>
            
            <div class="status-item pending" id="status-firebase">
                <span class="status-label">Firebase SDK</span>
                <span class="status-icon">â³</span>
            </div>
            
            <div class="status-item pending" id="status-auth">
                <span class="status-label">Firebase Auth</span>
                <span class="status-icon">â³</span>
            </div>
            
            <div class="status-item pending" id="status-firestore">
                <span class="status-label">Firestore Database</span>
                <span class="status-icon">â³</span>
            </div>
            
            <div class="status-item pending" id="status-authmanager">
                <span class="status-label">Auth Manager</span>
                <span class="status-icon">â³</span>
            </div>
            
            <div class="status-item pending" id="status-authui">
                <span class="status-label">Auth UI System</span>
                <span class="status-icon">â³</span>
            </div>
            
            <div class="status-item pending" id="status-modal">
                <span class="status-label">Modal Function</span>
                <span class="status-icon">â³</span>
            </div>
        </div>
        
        <button class="test-button" onclick="testAuthModal()">
            ğŸš€ Ø§Ø®ØªØ¨Ø§Ø± ÙØªØ­ Ù†Ø§ÙØ°Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        </button>
        
        <button class="test-button" onclick="toggleLog()" style="background: #546e7a; margin-top: 10px;">
            ğŸ“‹ Ø¹Ø±Ø¶/Ø¥Ø®ÙØ§Ø¡ Ø³Ø¬Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
        </button>
        
        <div class="log-container" id="logContainer"></div>
        
        <div class="info-box">
            <h3>ğŸ“ Ù…Ø§Ø°Ø§ ØªÙØ¹Ù„ Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:</h3>
            <ul>
                <li>Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª <strong style="color: #4caf50;">âœ… Ø®Ø¶Ø±Ø§Ø¡</strong> - Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ù…Ù…ØªØ§Ø²!</li>
                <li>Ø¥Ø°Ø§ Ø¸Ù‡Ø±Øª Ø¹Ù„Ø§Ù…Ø© <strong style="color: #f44336;">âŒ Ø­Ù…Ø±Ø§Ø¡</strong> - Ø§ÙØªØ­ Ø³Ø¬Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø³Ø¨Ø¨</li>
                <li>Ø²Ø± "Ø§Ø®ØªØ¨Ø§Ø± ÙØªØ­ Ù†Ø§ÙØ°Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„" ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©</li>
                <li>Ø¨Ø¹Ø¯ Ù†Ø¬Ø§Ø­ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±ØŒ Ø§ÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (index.html)</li>
            </ul>
        </div>
    </div>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <!-- Auth Scripts -->
    <script src="js/auth/firebase-config.js"></script>
    <script src="js/auth/auth-translations.js"></script>
    <script src="js/auth/activity-tracker.js"></script>
    <script src="js/auth/auth-manager.js"></script>
    <script src="js/auth/auth-ui.js"></script>
    
    <script>
        const logs = [];
        
        function addLog(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString('ar-EG');
            logs.push(`[${timestamp}] ${message}`);
            updateLogDisplay();
        }
        
        function updateLogDisplay() {
            const logContainer = document.getElementById('logContainer');
            logContainer.innerHTML = logs.map(log => 
                `<div class="log-line">${log}</div>`
            ).join('');
            logContainer.scrollTop = logContainer.scrollHeight;
        }
        
        function updateStatus(id, success) {
            const element = document.getElementById(id);
            if (success) {
                element.classList.remove('pending', 'error');
                element.classList.add('success');
                element.querySelector('.status-icon').textContent = 'âœ…';
            } else {
                element.classList.remove('pending');
                element.classList.add('error');
                element.querySelector('.status-icon').textContent = 'âŒ';
            }
        }
        
        function toggleLog() {
            const logContainer = document.getElementById('logContainer');
            logContainer.classList.toggle('show');
        }
        
        function testAuthModal() {
            addLog('ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©...');
            
            if (typeof window.authUI !== 'undefined' && typeof window.authUI.showAuthModal === 'function') {
                window.authUI.showAuthModal('login');
                addLog('âœ… ØªÙ… ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø¨Ù†Ø¬Ø§Ø­!');
            } else {
                addLog('âŒ Ø®Ø·Ø£: authUI ØºÙŠØ± Ù…ØªØ§Ø­', 'error');
                alert('Ø®Ø·Ø£: Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ØºÙŠØ± Ù…ØªØ§Ø­. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø³Ø¬Ù„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡.');
            }
        }
        
        // Test Firebase
        addLog('ğŸ” Ø¨Ø¯Ø¡ ÙØ­Øµ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª...');
        
        setTimeout(() => {
            // Check Firebase SDK
            if (typeof firebase !== 'undefined') {
                updateStatus('status-firebase', true);
                addLog('âœ… Firebase SDK Ù…Ø­Ù…Ù‘Ù„ Ø¨Ù†Ø¬Ø§Ø­');
            } else {
                updateStatus('status-firebase', false);
                addLog('âŒ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Firebase SDK');
            }
            
            // Check Firebase Auth
            if (typeof firebase !== 'undefined' && firebase.auth) {
                updateStatus('status-auth', true);
                addLog('âœ… Firebase Auth Ù…Ù‡ÙŠØ£ Ø¨Ù†Ø¬Ø§Ø­');
            } else {
                updateStatus('status-auth', false);
                addLog('âŒ ÙØ´Ù„ ØªÙ‡ÙŠØ¦Ø© Firebase Auth');
            }
            
            // Check Firestore
            if (typeof firebase !== 'undefined' && firebase.firestore) {
                updateStatus('status-firestore', true);
                addLog('âœ… Firestore Database Ù…Ù‡ÙŠØ£ Ø¨Ù†Ø¬Ø§Ø­');
            } else {
                updateStatus('status-firestore', false);
                addLog('âŒ ÙØ´Ù„ ØªÙ‡ÙŠØ¦Ø© Firestore');
            }
            
            // Check authManager
            if (typeof window.authManager !== 'undefined') {
                updateStatus('status-authmanager', true);
                addLog('âœ… Auth Manager Ù…Ø­Ù…Ù‘Ù„ Ø¨Ù†Ø¬Ø§Ø­');
            } else {
                updateStatus('status-authmanager', false);
                addLog('âŒ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Auth Manager');
            }
            
            // Check authUI
            if (typeof window.authUI !== 'undefined') {
                updateStatus('status-authui', true);
                addLog('âœ… Auth UI System Ù…Ø­Ù…Ù‘Ù„ Ø¨Ù†Ø¬Ø§Ø­');
            } else {
                updateStatus('status-authui', false);
                addLog('âŒ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Auth UI System');
            }
            
            // Check showAuthModal function
            if (typeof window.authUI !== 'undefined' && typeof window.authUI.showAuthModal === 'function') {
                updateStatus('status-modal', true);
                addLog('âœ… Ø¯Ø§Ù„Ø© ÙØªØ­ Ø§Ù„Ù†Ø§ÙØ°Ø© Ù…ØªØ§Ø­Ø© ÙˆØ¬Ø§Ù‡Ø²Ø©');
            } else {
                updateStatus('status-modal', false);
                addLog('âŒ Ø¯Ø§Ù„Ø© ÙØªØ­ Ø§Ù„Ù†Ø§ÙØ°Ø© ØºÙŠØ± Ù…ØªØ§Ø­Ø©');
            }
            
            addLog('ğŸ Ø§ÙƒØªÙ…Ù„ Ø§Ù„ÙØ­Øµ!');
            
            // Auto summary
            const allSuccess = document.querySelectorAll('.status-item.success').length === 6;
            if (allSuccess) {
                addLog('ğŸ‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­!');
                addLog('ğŸ’¡ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø§Ø®ØªØ¨Ø§Ø± ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©');
            } else {
                addLog('âš ï¸ Ø¨Ø¹Ø¶ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ù„Ø§ ØªØ¹Ù…Ù„. Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø£Ø¹Ù„Ø§Ù‡.');
            }
        }, 2000);
        
        // Error handler
        window.addEventListener('error', function(e) {
            addLog(`ğŸš¨ Ø®Ø·Ø£: ${e.error}`, 'error');
        });
    </script>
</body>
</html>
